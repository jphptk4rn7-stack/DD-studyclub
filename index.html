<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>点点穿书创作研习社</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
        }
        
        body {
            background-color: #f0f7ff;
            color: #333;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        /* 顶部区域 */
        .header {
            padding: 20px 30px;
            position: relative;
            z-index: 10;
            background-color: rgba(255, 255, 255, 0.9);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .logo {
            font-size: 24px;
            font-weight: 700;
            color: #FF9800;
            display: flex;
            align-items: center;
        }
        
        .logo i {
            margin-right: 10px;
            font-size: 26px;
        }
        
        .logo-subtitle {
            font-size: 14px;
            color: #666;
            margin-left: 15px;
            font-weight: normal;
        }
        
        /* 搜索框样式 */
        .search-box {
            display: flex;
            align-items: center;
            background: white;
            border-radius: 25px;
            padding: 8px 20px;
            box-shadow: 0 4px 12px rgba(255, 152, 0, 0.15);
            border: 2px solid #FF9800;
            width: 300px;
            transition: all 0.3s;
        }
        
        .search-box:hover {
            box-shadow: 0 6px 18px rgba(255, 152, 0, 0.25);
        }
        
        .search-box input {
            border: none;
            outline: none;
            flex-grow: 1;
            padding: 8px 12px;
            font-size: 16px;
            background: transparent;
        }
        
        .search-box button {
            background: none;
            border: none;
            cursor: pointer;
            color: #FF9800;
            font-size: 18px;
            transition: transform 0.2s;
        }
        
        .search-box button:hover {
            transform: scale(1.1);
        }
        
        /* 搜索提示和结果统计 */
        .search-info {
            padding: 10px 30px;
            background-color: #f8f9fa;
            border-radius: 8px;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .search-results-count {
            font-size: 16px;
            color: #666;
        }
        
        .search-clear {
            background: none;
            border: none;
            color: #FF9800;
            cursor: pointer;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .search-clear:hover {
            text-decoration: underline;
        }
        
        /* 搜索高亮样式 */
        .highlight {
            background-color: #FFF3CD;
            color: #856404;
            padding: 2px 4px;
            border-radius: 3px;
            font-weight: 600;
        }
        
        /* 搜索无结果样式 */
        .no-search-results {
            text-align: center;
            padding: 60px 30px;
            color: #777;
        }
        
        .no-search-results i {
            font-size: 48px;
            color: #ddd;
            margin-bottom: 20px;
        }
        
        .no-search-results h3 {
            font-size: 20px;
            margin-bottom: 10px;
            color: #555;
        }
        
        .no-search-results p {
            font-size: 16px;
            line-height: 1.6;
        }
        
        /* 主内容区域 */
        .main-container {
            display: flex;
            flex-grow: 1;
            max-width: 1400px;
            margin: 0 auto;
            width: 95%;
            gap: 30px;
            padding: 25px 0;
        }
        
        /* 左侧导航 */
        .sidebar {
            width: 320px;
            background-color: white;
            border-radius: 16px;
            padding: 25px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
            flex-shrink: 0;
            height: fit-content;
            position: sticky;
            top: 20px;
        }
        
        .nav-title {
            font-size: 22px;
            font-weight: 700;
            color: #3F51B5;
            margin-bottom: 25px;
            padding-bottom: 10px;
            border-bottom: 2px solid #E8EAF6;
            display: flex;
            align-items: center;
        }
        
        .nav-title i {
            margin-right: 10px;
            color: #FF9800;
        }
        
        .nav-category {
            margin-bottom: 25px;
        }
        
        .category-title {
            font-size: 18px;
            font-weight: 600;
            color: #FF9800;
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 1px solid #FFE0B2;
            cursor: pointer;
            transition: color 0.3s;
            display: flex;
            align-items: center;
        }
        
        .category-title:hover {
            color: #F57C00;
        }
        
        .toggle-icon {
            margin-right: 8px;
            font-size: 16px;
            transition: transform 0.3s;
        }
        
        .nav-items {
            list-style: none;
            padding-left: 0;
            overflow: hidden;
            transition: max-height 0.4s ease;
        }
        
        .nav-items.collapsed {
            max-height: 0;
        }
        
        .nav-items.expanded {
            max-height: 500px;
        }
        
        .nav-item {
            margin-bottom: 8px;
            position: relative;
        }
        
        .nav-item a {
            text-decoration: none;
            color: #555;
            font-size: 16px;
            display: block;
            padding: 10px 12px;
            border-radius: 8px;
            transition: all 0.2s;
            border-left: 3px solid transparent;
        }
        
        .nav-item a:hover {
            background-color: #F5F5F5;
            color: #3F51B5;
            padding-left: 18px;
            border-left: 3px solid #FF9800;
        }
        
        .nav-item.active a {
            background-color: #E8EAF6;
            color: #3F51B5;
            font-weight: 500;
            border-left: 3px solid #3F51B5;
        }
        
        /* 右侧内容区域 */
        .content {
            flex-grow: 1;
        }
        
        .category-header {
            background-color: white;
            border-radius: 16px;
            padding: 30px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
            margin-bottom: 25px;
        }
        
        .category-title-main {
            font-size: 28px;
            font-weight: 700;
            color: #333;
            margin-bottom: 15px;
        }
        
        .category-description {
            color: #666;
            line-height: 1.6;
            font-size: 16px;
            padding: 15px 0;
            border-top: 1px solid #eee;
            border-bottom: 1px solid #eee;
            margin: 15px 0;
        }
        
        .subcategory-header {
            margin-top: 25px;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #E8EAF6;
        }
        
        .subcategory-title {
            font-size: 22px;
            font-weight: 600;
            color: #3F51B5;
        }
        
        /* 目录列表样式 */
        .directory-container {
            background-color: white;
            border-radius: 16px;
            padding: 0;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
            overflow: hidden;
        }
        
        .directory-header {
            padding: 20px 30px;
            border-bottom: 1px solid #eee;
            background-color: #f9f9f9;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .directory-title {
            font-size: 20px;
            font-weight: 600;
            color: #333;
        }
        
        .item-count {
            font-size: 14px;
            color: #777;
            background-color: #eee;
            padding: 4px 12px;
            border-radius: 12px;
        }
        
        .directory-list {
            padding: 0;
        }
        
        .directory-item {
            display: flex;
            padding: 18px 30px;
            border-bottom: 1px solid #f0f0f0;
            transition: all 0.2s;
            text-decoration: none;
            color: inherit;
            align-items: flex-start;
        }
        
        .directory-item:hover {
            background-color: #f9f9f9;
        }
        
        .directory-item.search-match {
            border-left: 4px solid #FF9800;
            background-color: #FFF9E6;
        }
        
        .directory-item .category-badge {
            display: inline-block;
            background-color: #E8EAF6;
            color: #3F51B5;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 12px;
            margin-top: 5px;
        }
        
        .item-number {
            display: flex;
            align-items: center;
            justify-content: center;
            min-width: 30px;
            width: 30px;
            height: 30px;
            background-color: #4CAF50;
            color: white;
            border-radius: 50%;
            font-weight: 700;
            margin-right: 20px;
            font-size: 14px;
            flex-shrink: 0;
            margin-top: 2px;
        }
        
        .item-content {
            flex-grow: 1;
        }
        
        .item-title {
            font-size: 16px;
            font-weight: 600;
            color: #333;
            margin-bottom: 5px;
            line-height: 1.4;
        }
        
        .item-desc {
            color: #666;
            font-size: 14px;
            line-height: 1.5;
        }
        
        .item-link {
            display: inline-block;
            padding: 6px 15px;
            background-color: #2196F3;
            color: white;
            text-decoration: none;
            border-radius: 15px;
            font-size: 12px;
            font-weight: 500;
            transition: all 0.3s;
            white-space: nowrap;
            margin-left: 15px;
            flex-shrink: 0;
            align-self: center;
        }
        
        .item-link:hover {
            background-color: #1976D2;
            transform: scale(1.05);
        }
        
        .item-link.disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }
        
        .item-link.disabled:hover {
            background-color: #ccc;
            transform: none;
        }
        
        .no-content {
            text-align: center;
            padding: 60px 30px;
            color: #777;
        }
        
        .no-content i {
            font-size: 48px;
            color: #ddd;
            margin-bottom: 20px;
        }
        
        .no-content h3 {
            font-size: 20px;
            margin-bottom: 10px;
            color: #555;
        }
        
        .no-content p {
            font-size: 16px;
            line-height: 1.6;
        }
        
        .footer {
            text-align: center;
            padding: 25px;
            color: #777;
            background-color: #f9f9f9;
            margin-top: 40px;
            border-top: 1px solid #eee;
        }
        
        /* 响应式设计 */
        @media (max-width: 1200px) {
            .main-container {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                position: static;
                margin-bottom: 20px;
            }
        }
        
        @media (max-width: 768px) {
            .header {
                padding: 15px 20px;
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }
            
            .logo-subtitle {
                margin-left: 0;
                margin-top: 5px;
            }
            
            .search-box {
                width: 100%;
            }
            
            .category-header {
                padding: 20px;
            }
            
            .directory-header {
                padding: 15px 20px;
            }
            
            .directory-item {
                padding: 15px 20px;
                flex-direction: column;
            }
            
            .item-number {
                margin-bottom: 10px;
                margin-right: 0;
            }
            
            .item-link {
                margin-left: 0;
                margin-top: 10px;
                align-self: flex-start;
            }
        }
    </style>
</head>
<body>
    <!-- 顶部区域 -->
    <div class="header">
        <div class="logo">
            <i class="fas fa-book-open"></i>
            点点穿书创作研习社
            <span class="logo-subtitle">点点熊写的临时版</span>
        </div>
        
        <!-- 搜索框 -->
        <div class="search-box">
            <input type="text" id="searchInput" placeholder="搜索教程标题、关键词...">
            <button id="searchButton">
                <i class="fas fa-search"></i>
            </button>
        </div>
    </div>
    
    <!-- 主内容区域 -->
    <div class="main-container">
        <!-- 左侧导航栏 -->
        <div class="sidebar">
            <h2 class="nav-title">
                <i class="fas fa-compass"></i>
                教程模块导航
            </h2>
            
            <!-- 新手入门 -->
            <div class="nav-category">
                <div class="category-title" onclick="toggleNav('nav1')">
                    <span class="toggle-icon">▲</span>
                    新手入门
                </div>
                <ul id="nav1" class="nav-items expanded">
                    <li class="nav-item active" data-category="beginner-story">
                        <a href="#beginner-story">
                            启程之诗（剧情向作品）
                        </a>
                    </li>
                    <li class="nav-item" data-category="beginner-basics">
                        <a href="#beginner-basics">
                            基石工坊（基础功能详解）
                        </a>
                    </li>
                </ul>
            </div>
            
            <!-- 进阶之路 -->
            <div class="nav-category">
                <div class="category-title" onclick="toggleNav('nav2')">
                    <span class="toggle-icon">▲</span>
                    进阶之路
                </div>
                <ul id="nav2" class="nav-items expanded">
                    <li class="nav-item" data-category="advanced-logic">
                        <a href="#advanced-logic">
                            逻辑之诗（机制向作品）
                        </a>
                    </li>
                    <li class="nav-item" data-category="advanced-core">
                        <a href="#advanced-core">
                            核心枢轴（核心功能详解）
                        </a>
                    </li>
                    <li class="nav-item" data-category="advanced-mechanics">
                        <a href="#advanced-mechanics">
                            机制交响（玩法搭建）
                        </a>
                    </li>
                </ul>
            </div>
            
            <!-- 大师殿堂 -->
            <div class="nav-category">
                <div class="category-title" onclick="toggleNav('nav3')">
                    <span class="toggle-icon">▼</span>
                    大师殿堂
                </div>
                <ul id="nav3" class="nav-items collapsed">
                    <li class="nav-item" data-category="master-story">
                        <a href="#master-story">
                            故事织法（叙事与选项设计）
                        </a>
                    </li>
                    <li class="nav-item" data-category="master-design">
                        <a href="#master-design">
                            意象工厂（美术与视觉效果）
                        </a>
                    </li>
                    <li class="nav-item" data-category="master-analysis">
                        <a href="#master-analysis">
                            洞察之镜（用户心理与市场分析）
                        </a>
                    </li>
                </ul>
            </div>
            
            <!-- 通用说明 -->
            <div class="nav-category">
                <div class="category-title" onclick="toggleNav('nav4')">
                    <span class="toggle-icon">▼</span>
                    通用说明
                </div>
                <ul id="nav4" class="nav-items collapsed">
                    <li class="nav-item" data-category="general-rules">
                        <a href="#general-rules">
                            秩序之锚（规章制度）
                        </a>
                    </li>
                    <li class="nav-item" data-category="general-tools">
                        <a href="#general-tools">
                            神器指南（辅助工具）
                        </a>
                    </li>
                    <li class="nav-item" data-category="general-promotion">
                        <a href="#general-promotion">
                            回响法则（运营推广）
                        </a>
                    </li>
                    <li class="nav-item" data-category="general-business">
                        <a href="#general-business">
                            价值蓝图（商业化）
                        </a>
                    </li>
                </ul>
            </div>
        </div>
        
        <!-- 右侧内容区域 -->
        <div class="content">
            <!-- 新手入门 - 默认显示 -->
            <div class="category-header" id="categoryHeader">
                <h1 class="category-title-main" id="categoryTitle">新手入门</h1>
                <p class="category-description" id="categoryDescription">
                    零基础从这里起步，轻松掌握编辑器基础功能。从角色创建、背景音乐添加到剧情分支设置，我们一起体验创作剧情向作品的完整流程与乐趣，共同迈出成为创作者的第一步！
                </p>
            </div>
            
            <!-- 搜索信息区域（默认隐藏） -->
            <div class="search-info" id="searchInfo" style="display: none;">
                <div class="search-results-count" id="searchResultsCount">搜索结果：0 条</div>
                <button class="search-clear" id="clearSearch">
                    <i class="fas fa-times"></i> 清除搜索
                </button>
            </div>
            
            <!-- 目录区域 -->
            <div class="directory-container" id="directoryContainer">
                <div class="directory-header">
                    <div class="directory-title" id="directoryTitle">教程目录</div>
                    <div class="item-count" id="itemCount">共 36 条</div>
                </div>
                
                <div class="directory-list" id="directoryList">
                    <!-- 目录内容将通过JavaScript动态生成 -->
                </div>
            </div>
        </div>
    </div>
    
    <!-- 页脚 -->
    <div class="footer">
        <p>© 2025 点点穿书创作研习社 | 设计用于教育目的 | 有问题请责骂点点熊 </p>
    </div>

    <script>
        // 定义教程数据
        const tutorialData = {
            // 新手入门 - 启程之诗（剧情向整书教程）
            'beginner-story': {
                title: '启程之诗（剧情向作品）',
                description: '零基础从这里起步，轻松掌握编辑器基础功能。从角色创建、背景音乐添加到剧情分支设置，我们一起体验创作剧情向作品的完整流程与乐趣，共同迈出成为创作者的第一步！',
                subcategory: '启程之诗（剧情向作品）',
                items: [
                    { id: 1, title: '【视频】一小时速通！编织你的第一个故事宇宙！（剧情向作品整书教程）', link: 'https://huixuanjiasu.feishu.cn/docx/RUhpd48LOo97mWxx7wac5VPNnZg' },
                ]
            },
            
            // 新手入门 - 基石工坊（基础功能详解）
            'beginner-basics': {
                title: '基石工坊（基础功能详解）',
                description: '掌握编辑器的各项基础功能，为创作打下坚实基础',
                subcategory: '基石工坊（基础功能详解）',
                items: [
                    { id: 1, title: '从【创建书籍】开始的世界', link: 'https://huixuanjiasu.feishu.cn/wiki/NRBlw3MyniqHESko93ccebdenqh?from=from_copylink' },
                    { id: 2, title: '开工之前做好准备：【设置】', link: 'https://huixuanjiasu.feishu.cn/wiki/AAEIwusfIiPFipkkk18cLG5vn1c?from=from_copylink' },
                    { id: 3, title: '故事骨架：【章节的创建与管理】', link: 'https://huixuanjiasu.feishu.cn/wiki/TfmqwDVggihrjDkz9SNc7o5mncb?from=from_copylink' },
                    { id: 4, title: '上传素材：展示你的独家设计！', link: 'https://huixuanjiasu.feishu.cn/docx/MgBHdVVY4oECRGxntaNciu0enUb', note: '正在重置素材库'  },
                    { id: 5, title: '官方素材库：海量！全天！随便用！', link: '#', note: '正在重置素材库' },
                    { id: 6, title: '创建角色：给角色"上户口"，从路人甲到主角', link: 'https://huixuanjiasu.feishu.cn/docx/Rdz0dR1BLoydjWxsVu5caCAOnhc' },
                    { id: 7, title: '设置背景图：一秒布置你的故事舞台', link: '#', note: '正在重置素材库' },
                    { id: 8, title: '添加背景音乐/音效：氛围组就位！', link: '#', note: '正在重置素材库' },
                    { id: 9, title: '【段落】搭建小课堂', link: 'https://huixuanjiasu.feishu.cn/wiki/Pw4Mw0or6iuPAsk1wuec7PpXnUA?from=from_copylink' },
                    { id: 10, title: '【语句输入】敲下第一行字', link: 'https://huixuanjiasu.feishu.cn/wiki/HMOownrMxiNs2EkrUoacaC2FncK?from=from_copylink' },
                    { id: 11, title: '变量的诞生与计算', link: 'https://huixuanjiasu.feishu.cn/docx/UlAgddzg2ou1sBxhPPZcZ3w7ncf' },
                    { id: 12, title: '批量创建变量', link: 'https://huixuanjiasu.feishu.cn/docx/Pjn4dXkK6oVo8cxR4IpcAOwcn4d' },
                    { id: 13, title: '【语句】七十二变：移动、插入、立绘隐藏、变量计算、设置事件', link: 'https://huixuanjiasu.feishu.cn/wiki/FLx5wK5PpiEbnIkKdaDc5H3nnWc?from=from_copylink' },
                    { id: 14, title: '选项设置：命运的岔路口？！', link: 'https://huixuanjiasu.feishu.cn/wiki/LtHLwGW5QikwAYk13FFcIEoVnqg?from=from_copylink' },
                    { id: 15, title: '图片选项：用画面指引的分支', link: 'https://huixuanjiasu.feishu.cn/wiki/IAaEwK1sZiyNE4kv4EecY5u6nRg?from=from_copylink' },
                    { id: 16, title: '神奇的传送门【跳转】', link: 'https://huixuanjiasu.feishu.cn/wiki/D9d3wmnhFio4R8kzHHEc4Y3Nnpb?from=from_copylink' },
                    { id: 17, title: '隐形开关：【跳转条件】', link: 'https://huixuanjiasu.feishu.cn/wiki/QFLiwj00TixOaIkp5VNcXm2EnWb?from=from_copylink' },
                    { id: 18, title: '【本章末尾】：就先告一段落吧~', link: 'https://huixuanjiasu.feishu.cn/wiki/EOi5wBVbFiJ1nJk92HmcurCvnth?from=from_copylink' },
                    { id: 19, title: '【final_node】故事的谢幕', link: 'https://huixuanjiasu.feishu.cn/wiki/AfX9wuD3si1m7lkhJFMcrkpvnZe?from=from_copylink' },
                    { id: 20, title: '预览：作者专用放映厅', link: 'https://huixuanjiasu.feishu.cn/wiki/X2Clwm3giiQL05kXUmDcmYLlnoe?from=from_copylink' },
                    { id: 21, title: '输入框：给角色起个名字吧~', link: 'https://huixuanjiasu.feishu.cn/docx/AWLLdJHx6ogNExx40DqcYbWIn6g' },
                    { id: 22, title: '可变内容：会变身的文本', link: 'https://huixuanjiasu.feishu.cn/docx/SEijdUr5Yo0uRUxTFTNc7RjSnEf' },
                    { id: 23, title: '多角色输入：剧情的批量输入', link: 'https://huixuanjiasu.feishu.cn/docx/K292dMVwHoXF13xqe3kco6jsnbc' },
                    { id: 24, title: '角色专属衣帽间1：衣橱的创建&模式选择', link: 'https://huixuanjiasu.feishu.cn/wiki/KGuRw8n2DiijhlkSCOzcUCDDnOg?from=from_copylink' },
                    { id: 25, title: '角色专属衣帽间2：添置新衣&信息设置', link: 'https://huixuanjiasu.feishu.cn/wiki/DaY3wmSNRi3pshk5vYDc8iDInj0?from=from_copylink' },
                    { id: 26, title: '角色专属衣帽间3：衣橱的预览&管理', link: 'https://huixuanjiasu.feishu.cn/wiki/SaXpwtEIeinVyTkZRIocejWUnnf?from=from_copylink' },
                    { id: 27, title: '角色专属衣帽间4：不同形象 -> 不同剧情', link: 'https://huixuanjiasu.feishu.cn/wiki/ASkqw1RNQiSFackwhs1cSVYFnAh?from=from_copylink' },
                    { id: 28, title: '语句时序', link: 'https://huixuanjiasu.feishu.cn/docx/O5KddZc0ioOFawx77QHcqKt1nZe' },
                    { id: 29, title: '商城管理入门：从创建第一个商品开始', link: '#', note: '商城待优化' },
                    { id: 30, title: '商品设置说明书', link: '#', note: '商城待优化' },
                    { id: 31, title: '属性模块：关键变量一目了然', link: 'https://huixuanjiasu.feishu.cn/docx/XsvPdhAX0oyeCbxKb2xc0rtOn8b' },
                    { id: 32, title: '目标模块：为玩家铺设清晰的闯关路线！', link: 'https://huixuanjiasu.feishu.cn/docx/XCFRdiwWaoQL2sx4R3wcZaM2nnd' }
                ]
            },
            
            // 进阶之路 - 逻辑之诗（机制向作品）
            'advanced-logic': {
                title: '逻辑之诗（机制向整书教程）',
                description: '向更复杂的机制向作品进军！本模块深入讲解变量、数据库、自定义界面等核心功能的同时，也会和你一起搭建如好感、背包、战斗等丰富玩法。请释放你的创造力，制作出玩法多样的互动作品吧~',
                subcategory: '逻辑之诗（机制向作品）',
                items: [
                    { id: 1, title: '【视频】进阶仪式！构建你的第一个完整系统框架！（机制向作品整书教程）', link: 'https://huixuanjiasu.feishu.cn/docx/LqHMdLNZNot0K3xg2YwcqJ4VnZS' },
                    
                ]
            },
            
            // 进阶之路 - 核心枢轴（核心功能详解）
            'advanced-core': {
                title: '核心枢轴（核心功能详解）',
                description: '向更复杂的机制向作品进军！本模块深入讲解变量、数据库、自定义界面等核心功能的同时，也会和你一起搭建如好感、背包、战斗等丰富玩法。请释放你的创造力，制作出玩法多样的互动作品吧~',
                subcategory: '核心枢轴（核心功能详解）',
                items: [
                    { id: 1, title: '活用模版，效率翻倍', link: '#', note: '还在奋笔疾书' },
                    { id: 2, title: '文本导入："教练！我还是更喜欢TXT"', link: '#', note: '还在奋笔疾书' },
                    { id: 3, title: '嵌套大法之子剧情', link: '#', note: '还在奋笔疾书' },
                    { id: 4, title: '初步认识自定义界面', link: '#' , note: '还在奋笔疾书'},
                    { id: 5, title: '自定义页面组件——文本框', link: '#', note: '还在奋笔疾书' },
                    { id: 6, title: '自定义页面组件——数值条', link: '#' , note: '还在奋笔疾书'},
                    { id: 7, title: '自定义页面组件——图片', link: '#', note: '还在奋笔疾书' },
                    { id: 8, title: '自定义页面组件——输入框', link: '#' , note: '功能等待建设中'},
                    { id: 9, title: '自定义页面组件——立绘', link: '#' , note: '还在奋笔疾书'},
                    { id: 10, title: '自定义页面组件——列表', link: '#', note: '还在奋笔疾书' },
                    { id: 11, title: '自定义页面组件——倒计时', link: '#' , note: '功能等待建设中' },
                    { id: 12, title: '自定义页面组件——按钮', link: '#'  , note: '功能等待建设中'},
                    { id: 13, title: '批量导入数据库', link: 'https://huixuanjiasu.feishu.cn/docx/GoUCdazx2oYiiBxSuJTccr66nbh?302from=wiki' },
                    { id: 14, title: '反应超快的即时变量', link: 'https://huixuanjiasu.feishu.cn/docx/CHNYdgoHAoyACCxvMVycVFwEnTf' },
                    { id: 15, title: '永不失忆：永久变量', link: 'https://huixuanjiasu.feishu.cn/docx/UdAzdjG2MoQ4VuxGFMlcVe6lnxf' },
                    { id: 16, title: '获取数值', link: 'https://huixuanjiasu.feishu.cn/docx/YIzEdR0SAoB8BUxWdigcILpIndh' },
                    { id: 17, title: '点击事件介绍大全', link: '#' , note: '还在奋笔疾书'},
                    { id: 18, title: '云端大脑：数据库', link: '#' , note: '还在奋笔疾书'},
                    { id: 19, title: '列表的基石：子内容', link: '#' , note: '还在奋笔疾书'},
                    { id: 20, title: '逻辑哨兵：变量监听', link: '#' , note: '还在奋笔疾书'},
                    { id: 21, title: 'UI层级', link: 'https://huixuanjiasu.feishu.cn/docx/TsFsdU9B9oci29xDvdNc6CfCnbe' },
                    { id: 22, title: 'UI事件', link: 'https://huixuanjiasu.feishu.cn/docx/Q8l7d4sd1oYLpXx4idycu4g4nph' },
                    { id: 23, title: '添加UI', link: 'https://huixuanjiasu.feishu.cn/docx/LauNdSMAYoUBM0xmsVEcgH0Wn2f' },
                    { id: 24, title: '隐形的指挥官：条件分歧应用场景拓展', link: '#' , note: '还在奋笔疾书'},
                    { id: 25, title: '沉浸感upup：视频使用指南', link: '#' , note: '还在奋笔疾书'},
                    { id: 26, title: '回溯锚点：强制存档', link: '#' , note: '功能等待建设中' },
                    { id: 27, title: '作品焕肤术：全局配置', link: '#'  , note: '功能等待建设中'}
                ]
            },
            
            // 进阶之路 - 机制交响（玩法搭建）
            'advanced-mechanics': {
                title: '机制交响（玩法搭建）',
                description: '向更复杂的机制向作品进军！本模块深入讲解变量、数据库、自定义界面等核心功能的同时，也会和你一起搭建如好感、背包、战斗等丰富玩法。请释放你的创造力，制作出玩法多样的互动作品吧~',
                subcategory: '机制交响（玩法搭建）',
                items: [
                    { id: 1, title: '可视化属性系统搭建', link: '#' , note: '还在奋笔疾书' },
                    { id: 2, title: '心之弦：好感系统搭建', link: '#'  , note: '还在奋笔疾书'},
                    { id: 3, title: '战斗大舞台，够胆你就来！', link: '#'  , note: '还在奋笔疾书'},
                    { id: 4, title: '每日仪式：签到系统', link: '#' , note: '还在奋笔疾书' },
                    { id: 5, title: '命运之轮：抽卡系统全解', link: '#' , note: '还在奋笔疾书' },
                    { id: 6, title: '累消奖励', link: '#' , note: '还在奋笔疾书' },
                    { id: 7, title: '四次元口袋：背包逻辑', link: '#' , note: '还在奋笔疾书' },
                    { id: 8, title: '养成核心：行程安排', link: '#' , note: '还在奋笔疾书' },
                    { id: 9, title: '未知领域：地图探索', link: '#' , note: '还在奋笔疾书' },
                    { id: 10, title: '荣耀永存：成就系统', link: '#'  , note: '还在奋笔疾书'},
                    { id: 11, title: '世子之争向来如此：排行榜上见分晓', link: '#' , note: '还在奋笔疾书' },
                    { id: 12, title: '冒险指南针：任务清单', link: '#'  , note: '还在奋笔疾书'},
                    { id: 13, title: '要成为炼金术士：合成系统指南', link: '#' , note: '还在奋笔疾书' }
                ]
            },
            
            // 大师殿堂 - 故事织法（叙事与选项设计）
            'master-story': {
                title: '故事织法（叙事与选项设计）',
                description: '超越工具，聚焦整体。本模块专注于提升作品的"软实力"，涵盖了剧本写作、视觉美学与用户心理分析等非工具使用的一些教程。让你的作品不更具有吸引力。',
                subcategory: '故事织法（叙事与选项设计）',
                items: [
                    { id: 1, title: '男频内容生产手册', link: 'https://huixuanjiasu.feishu.cn/docx/LJmzda5OzodaYax9JKtcgra3nNc?from=from_copylink' , note: '待调整'},
                    { id: 2, title: '剧情初创作容易犯的雷点！', link: 'https://huixuanjiasu.feishu.cn/docx/KH4Md0RdCoTLPBxU53ccBay4n0d?from=from_copylink' , note: '待调整'},
                    { id: 3, title: '选项设计分享会', link: 'https://huixuanjiasu.feishu.cn/slides/DlPNsurowlppGWdP9NTce2QJnAh?from=from_copylink' , note: '待调整'},
                    { id: 4, title: '内容生产手册', link: 'https://huixuanjiasu.feishu.cn/docs/doccn0VJfEvxPjGnppHHhkzf0Sf?from=from_copylink' , note: '待调整'},
                    { id: 5, title: '如何塑造立体的人物角色？', link: '#', note: '还在奋笔疾书'},
                    { id: 6, title: '如何编写吸引人的对话？', link: '#', note: '还在奋笔疾书' },
                    { id: 7, title: '如何设计故事大纲和情节节奏？', link: '#', note: '还在奋笔疾书' }
                ]
            },
            
            // 大师殿堂 - 意象工厂（美术与视觉效果）
            'master-design': {
                title: '意象工厂（美术与视觉效果）',
                description: '超越工具，聚焦整体。本模块专注于提升作品的"软实力"，涵盖了剧本写作、视觉美学与用户心理分析等非工具使用的一些教程。让你的作品不更具有吸引力。',
                subcategory: '意象工厂（美术与视觉效果）',
                items: [
                    { id: 1, title: '如何为作品选择合适的画风？', link: '#' , note: '还在奋笔疾书'},
                    { id: 2, title: '如何协调UI、立绘、背景的视觉统一性？', link: '#' , note: '还在奋笔疾书'}
                ]
            },
            
            // 大师殿堂 - 洞察之镜（用户心理与市场分析）
            'master-analysis': {
                title: '洞察之镜（用户心理与市场分析）',
                description: '超越工具，聚焦整体。本模块专注于提升作品的"软实力"，涵盖了剧本写作、视觉美学与用户心理分析等非工具使用的一些教程。让你的作品不更具有吸引力。',
                subcategory: '洞察之镜（用户心理与市场分析）',
                items: [
                    { id: 1, title: '剧情向作品可加入玩法', link: 'https://huixuanjiasu.feishu.cn/docx/PJLTdLhOholToExZFmJcAKDfncd?from=from_copylink' , note: '待调整'},
                    { id: 2, title: '作品付费优化/修正经验分享', link: 'https://huixuanjiasu.feishu.cn/docx/Xl2ddk0muoFeG6x2ciZc0MCVnFf?from=from_copylink' , note: '待调整'},
                    { id: 3, title: '作品优化流程参考', link: 'https://huixuanjiasu.feishu.cn/docx/BDOkdqNuNocqfOxLVuDcb0A9nwb?from=from_copylink', note: '待调整' },
                    { id: 4, title: '作品付费/玩法整理', link: 'https://huixuanjiasu.feishu.cn/docx/F9xydAo9EoJ8auxohmdcH1yMnSg?from=from_copylink' , note: '待调整'},
                    { id: 5, title: '两本书付费分享', link: 'https://huixuanjiasu.feishu.cn/docx/VnSUdY2BYofI3MxPBnFcrVQ6nTg?from=from_copylink' , note: '待调整'},
                    { id: 6, title: '什么样的题材和玩法更受欢迎？', link: '#', note: '还在奋笔疾书' },
                    { id: 7, title: '如何设计"钩子"吸引玩家持续阅读和付费？', link: '#' , note: '还在奋笔疾书'},
                    { id: 8, title: '如何分析数据，优化自己的作品？', link: '#' , note: '还在奋笔疾书'}
                ]
            },
            
            // 通用说明 - 秩序之锚（规章制度）
            'general-rules': {
                title: '秩序之锚（规章制度）',
                description: '你坚实的创作后盾。这里汇集了官方素材库、辅助工具的使用指南，及作品运营、商业化等相关的实用说明。助你更好地管理作品，专注创作~',
                subcategory: '秩序之锚（规章制度）',
                items: [
                    { id: 1, title: '【账号设置】三步走', link: 'https://huixuanjiasu.feishu.cn/wiki/RAtXw0LEyih3J3kNS7HcODsInSf?from=from_copylink' },
                    { id: 2, title: '视觉化作品规范', link: 'https://huixuanjiasu.feishu.cn/docx/NcpbdK5QmoZkorxHyaicfEK7nLF?from=from_copylink' }
                ]
            },
            
            // 通用说明 - 神器指南（辅助工具）
            'general-tools': {
                title: '神器指南（辅助工具）',
                description: '你坚实的创作后盾。这里汇集了官方素材库、辅助工具的使用指南，及作品运营、商业化等相关的实用说明。助你更好地管理作品，专注创作~',
                subcategory: '神器指南（辅助工具）',
                items: [
                    { id: 1, title: '【AI Image Tool】使用全攻略', link: 'https://huixuanjiasu.feishu.cn/docx/F8x6dHTpjobfmTx0D8Mcq25nnIf' },
                    { id: 2, title: '素材库使用tips大全', link: '#', note: '待素材库重置' }
                ]
            },
            
            // 通用说明 - 回响法则（运营推广）
            'general-promotion': {
                title: '回响法则（运营推广）',
                description: '你坚实的创作后盾。这里汇集了官方素材库、辅助工具的使用指南，及作品运营、商业化等相关的实用说明。助你更好地管理作品，专注创作~',
                subcategory: '回响法则（运营推广）',
                items: [
                    { id: 1, title: '【评论管理】功能驯服指南', link: 'https://huixuanjiasu.feishu.cn/wiki/Eiqvw1RY1ijWQbk3AOScmOq3nBg?from=from_copylink' },
                    { id: 2, title: '【更新日志】的超实用说明', link: 'https://huixuanjiasu.feishu.cn/wiki/D6iNwGeDdiYOt5kO6cncoX1Nn7f' },
                    { id: 3, title: '角色收集功能全解析', link: '#', note: '待伙伴功能调整' }
                ]
            },
            
            // 通用说明 - 价值蓝图（商业化）
            'general-business': {
                title: '价值蓝图（商业化）',
                description: '你坚实的创作后盾。这里汇集了官方素材库、辅助工具的使用指南，及作品运营、商业化等相关的实用说明。助你更好地管理作品，专注创作~',
                subcategory: '价值蓝图（商业化）',
                items: [
                    { id: 1, title: '数据看板：你的作品体检中心', link: '#' , note: '还在奋笔疾书'},
                    { id: 2, title: '剧情树：分支图解读指南', link: '#', note: '还在奋笔疾书' }
                ]
            }
        };
        
        // DOM元素
        const categoryHeader = document.getElementById('categoryHeader');
        const categoryTitle = document.getElementById('categoryTitle');
        const categoryDescription = document.getElementById('categoryDescription');
        const directoryList = document.getElementById('directoryList');
        const itemCount = document.getElementById('itemCount');
        const searchInput = document.getElementById('searchInput');
        const searchButton = document.getElementById('searchButton');
        const searchInfo = document.getElementById('searchInfo');
        const searchResultsCount = document.getElementById('searchResultsCount');
        const clearSearch = document.getElementById('clearSearch');
        const directoryTitle = document.getElementById('directoryTitle');
        
        // 当前状态
        let currentCategory = 'beginner-story';
        let isSearching = false;
        
        // 导航栏折叠/展开功能
        function toggleNav(navId) {
            const nav = document.getElementById(navId);
            const toggleIcon = nav.previousElementSibling.querySelector('.toggle-icon');
            
            if (nav.classList.contains('expanded')) {
                nav.classList.remove('expanded');
                nav.classList.add('collapsed');
                toggleIcon.textContent = '▼';
            } else {
                nav.classList.remove('collapsed');
                nav.classList.add('expanded');
                toggleIcon.textContent = '▲';
            }
        }
        
        // 左侧导航点击事件 - 切换右侧内容
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', function(e) {
                e.preventDefault();
                
                // 清除搜索状态
                clearSearchState();
                
                // 更新激活状态
                document.querySelectorAll('.nav-item').forEach(nav => {
                    nav.classList.remove('active');
                });
                this.classList.add('active');
                
                // 获取分类ID
                const categoryId = this.getAttribute('data-category');
                currentCategory = categoryId;
                
                // 加载分类数据
                loadCategoryData(categoryId);
            });
        });
        
        // 加载分类数据
        function loadCategoryData(categoryId) {
            isSearching = false;
            const categoryData = tutorialData[categoryId];
            
            if (!categoryData) {
                // 如果没有对应数据，显示空状态
                categoryTitle.textContent = '教程目录';
                categoryDescription.textContent = '点击左侧导航查看详细教程目录';
                directoryList.innerHTML = `
                    <div class="no-content">
                        <i class="fas fa-folder-open"></i>
                        <h3>暂无内容</h3>
                        <p>请选择左侧导航的其他分类查看详细教程目录</p>
                    </div>
                `;
                itemCount.textContent = '共 0 条';
                directoryTitle.textContent = '教程目录';
                searchInfo.style.display = 'none';
                return;
            }
            
            // 更新标题和描述
            categoryTitle.textContent = categoryData.title;
            categoryDescription.textContent = categoryData.description;
            directoryTitle.textContent = '教程目录';
            
            // 清空目录列表
            directoryList.innerHTML = '';
            
            // 如果没有项目，显示空状态
            if (!categoryData.items || categoryData.items.length === 0) {
                directoryList.innerHTML = `
                    <div class="no-content">
                        <i class="fas fa-folder-open"></i>
                        <h3>暂无教程内容</h3>
                        <p>该分类下的教程正在准备中，敬请期待...</p>
                    </div>
                `;
                itemCount.textContent = '共 0 条';
                searchInfo.style.display = 'none';
                return;
            }
            
            // 渲染目录项
            let itemCountNum = 0;
            
            categoryData.items.forEach(item => {
                itemCountNum++;
                
                const itemElement = document.createElement('div');
                itemElement.className = 'directory-item';
                
                // 构建项目内容
                let itemHtml = `
                    <div class="item-number">${item.id}</div>
                    <div class="item-content">
                        <div class="item-title">${item.title}</div>
                `;
                
                // 如果有备注，添加备注
                if (item.note) {
                    itemHtml += `<div class="item-desc">${item.note}</div>`;
                }
                
                itemHtml += `</div>`;
                
                // 添加链接按钮
                if (item.link === '#') {
                    itemHtml += `<a href="#" class="item-link disabled" onclick="event.preventDefault(); alert('教程链接正在配置中...'); return false;">查看</a>`;
                } else {
                    itemHtml += `<a href="${item.link}" class="item-link" target="_blank">查看</a>`;
                }
                
                itemElement.innerHTML = itemHtml;
                
                // 添加点击事件
                itemElement.addEventListener('click', function(e) {
                    // 如果点击的是链接，不阻止默认行为
                    if (e.target.classList.contains('item-link')) {
                        return;
                    }
                    
                    // 否则模拟点击链接
                    const link = this.querySelector('.item-link');
                    if (link) {
                        link.click();
                    }
                });
                
                directoryList.appendChild(itemElement);
            });
            
            // 更新计数
            itemCount.textContent = `共 ${itemCountNum} 条`;
            searchInfo.style.display = 'none';
        }
        
        // 搜索功能
        function performSearch() {
            const searchTerm = searchInput.value.trim().toLowerCase();
            
            if (!searchTerm) {
                // 如果搜索框为空，返回当前分类
                loadCategoryData(currentCategory);
                return;
            }
            
            isSearching = true;
            
            // 更新标题
            categoryTitle.textContent = '搜索结果';
            categoryDescription.textContent = `搜索关键词："${searchTerm}"，请查看以下相关教程`;
            directoryTitle.textContent = '搜索结果';
            
            // 显示搜索信息区域
            searchInfo.style.display = 'flex';
            
            // 收集所有搜索结果
            const allResults = [];
            let resultCount = 0;
            
            // 遍历所有分类
            for (const categoryId in tutorialData) {
                const category = tutorialData[categoryId];
                
                if (category.items) {
                    category.items.forEach(item => {
                        // 检查标题是否包含搜索词
                        const titleMatch = item.title.toLowerCase().includes(searchTerm);
                        // 检查备注是否包含搜索词
                        const noteMatch = item.note && item.note.toLowerCase().includes(searchTerm);
                        
                        if (titleMatch || noteMatch) {
                            allResults.push({
                                ...item,
                                categoryTitle: category.title,
                                categoryId: categoryId
                            });
                            resultCount++;
                        }
                    });
                }
            }
            
            // 更新搜索结果计数
            searchResultsCount.textContent = `搜索结果：${resultCount} 条`;
            
            // 清空目录列表
            directoryList.innerHTML = '';
            
            if (resultCount === 0) {
                // 没有搜索结果
                directoryList.innerHTML = `
                    <div class="no-search-results">
                        <i class="fas fa-search"></i>
                        <h3>没有找到相关教程</h3>
                        <p>请尝试其他关键词，或使用更通用的搜索词</p>
                    </div>
                `;
                itemCount.textContent = '共 0 条';
                return;
            }
            
            // 渲染搜索结果
            allResults.forEach((result, index) => {
                const itemElement = document.createElement('div');
                itemElement.className = 'directory-item search-match';
                
                // 高亮显示搜索词
                const highlightedTitle = highlightText(result.title, searchTerm);
                const highlightedNote = result.note ? highlightText(result.note, searchTerm) : '';
                
                // 构建项目内容
                let itemHtml = `
                    <div class="item-number">${index + 1}</div>
                    <div class="item-content">
                        <div class="item-title">${highlightedTitle}</div>
                `;
                
                // 添加分类标签
                itemHtml += `<div class="category-badge">${result.categoryTitle}</div>`;
                
                // 如果有备注，添加备注
                if (result.note) {
                    itemHtml += `<div class="item-desc">${highlightedNote}</div>`;
                }
                
                itemHtml += `</div>`;
                
                // 添加链接按钮
                if (result.link === '#') {
                    itemHtml += `<a href="#" class="item-link disabled" onclick="event.preventDefault(); alert('教程链接正在配置中...'); return false;">查看</a>`;
                } else {
                    itemHtml += `<a href="${result.link}" class="item-link" target="_blank">查看</a>`;
                }
                
                itemElement.innerHTML = itemHtml;
                
                // 添加点击事件
                itemElement.addEventListener('click', function(e) {
                    // 如果点击的是链接，不阻止默认行为
                    if (e.target.classList.contains('item-link')) {
                        return;
                    }
                    
                    // 否则模拟点击链接
                    const link = this.querySelector('.item-link');
                    if (link) {
                        link.click();
                    }
                });
                
                directoryList.appendChild(itemElement);
            });
            
            // 更新计数
            itemCount.textContent = `共 ${resultCount} 条`;
        }
        
        // 高亮文本
        function highlightText(text, searchTerm) {
            if (!searchTerm) return text;
            
            const regex = new RegExp(`(${escapeRegExp(searchTerm)})`, 'gi');
            return text.replace(regex, '<span class="highlight">$1</span>');
        }
        
        // 转义正则表达式特殊字符
        function escapeRegExp(string) {
            return string.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
        }
        
        // 清除搜索状态
        function clearSearchState() {
            searchInput.value = '';
            isSearching = false;
            searchInfo.style.display = 'none';
            
            // 重新加载当前分类
            loadCategoryData(currentCategory);
        }
        
        // 页面加载时显示默认分类
        document.addEventListener('DOMContentLoaded', function() {
            // 默认显示第一个激活的导航项对应的内容
            const activeNavItem = document.querySelector('.nav-item.active');
            if (activeNavItem) {
                loadCategoryData(activeNavItem.getAttribute('data-category'));
            }
            
            // 绑定搜索按钮点击事件
            searchButton.addEventListener('click', performSearch);
            
            // 绑定搜索框回车事件
            searchInput.addEventListener('keyup', function(event) {
                if (event.key === 'Enter') {
                    performSearch();
                }
            });
            
            // 绑定清除搜索按钮事件
            clearSearch.addEventListener('click', clearSearchState);
            
            // 实时搜索（可选，可以开启）
            // searchInput.addEventListener('input', function() {
            //     if (this.value.length >= 2) {
            //         performSearch();
            //     } else if (this.value.length === 0 && isSearching) {
            //         clearSearchState();
            //     }
            // });
        });
    </script>
</body>
</html>
